<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yjjk.monitor.mapper.ZsHealthInfoMapper">
  <resultMap id="BaseResultMap" type="com.yjjk.monitor.entity.pojo.ZsHealthInfo">
    <!--
      WARNING - @mbg.generated
    -->
    <result column="temperature_id" jdbcType="INTEGER" property="temperatureId" />
    <result column="machine_id" jdbcType="VARCHAR" property="machineId" />
    <result column="heart_rate" jdbcType="DECIMAL" property="heartRate" />
    <result column="respiratory_rate" jdbcType="DECIMAL" property="respiratoryRate" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="timestamp" jdbcType="BIGINT" property="timestamp" />
  </resultMap>
  <select id="getByMachineId" resultType="com.yjjk.monitor.entity.pojo.ZsHealthInfo"
          parameterType="java.lang.Integer">
    SELECT zti.*
    FROM zs_health_info zti
    WHERE machine_id = #{machineId,jdbcType=INTEGER}
      AND zti.repeaterId IS NOT NULL
    ORDER BY create_time DESC
    LIMIT 1
  </select>
</mapper>