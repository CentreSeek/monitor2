<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yjjk.monitor.mapper.MonitorRuleMapper">
    <resultMap id="BaseResultMap" type="com.yjjk.monitor.entity.pojo.MonitorRule">
        <!--
          WARNING - @mbg.generated
        -->
        <result column="department_id" property="departmentId" jdbcType="INTEGER"/>
        <result column="type" property="type" jdbcType="INTEGER"/>
        <result column="param_one" property="paramOne" jdbcType="DOUBLE"/>
        <result column="param_two" property="paramTwo" jdbcType="DOUBLE"/>
        <result column="param_three" property="paramThree" jdbcType="DOUBLE"/>
        <result column="alert_flag" property="alertFlag" jdbcType="INTEGER"/>
        <result column="low_alert" property="lowAlert" jdbcType="DOUBLE"/>
        <result column="high_alert" property="highAlert" jdbcType="DOUBLE"/>
        <result column="manager_id" property="managerId" jdbcType="INTEGER"/>
        <result column="change_time" property="changeTime" jdbcType="VARCHAR"/>
        <result column="status" property="status" jdbcType="INTEGER"/>
    </resultMap>

    <select id="getRule" parameterType="java.util.Map" resultMap="BaseResultMap">
        select
        *
        from monitor_rule
        <where>
            <if test="departmentId != null">
                and `department_id` = #{departmentId,jdbcType=INTEGER}
            </if>
            <if test="type != null">
                and type = #{type,jdbcType=INTEGER}
            </if>
            <if test="alertFlag != null">
                and alert_flag = #{alertFlag,jdbcType=INTEGER}
            </if>
        </where>
    </select>
</mapper>