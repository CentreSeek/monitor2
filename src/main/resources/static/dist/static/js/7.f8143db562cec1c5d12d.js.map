{"version":3,"sources":["webpack:///src/views/statistics.vue","webpack:///./src/api/statistics.js","webpack:///./src/views/statistics.vue?d818","webpack:///./src/views/statistics.vue"],"names":["statistics","data","time","choosePlaceholder","choose","startTime","endTime","tableName","rank","departmentName","equipmentQuantity","options","value","label","options2","value2","value3","value4","tableData","dataQu","components","Topbar","topbar","computed","extends_default","Object","vuex_esm","methods","drawChart","drawData","option","grid","left","right","bottom","containLabel","xAxis","type","boundaryGap","splitLine","show","yAxis","minInterval","axisLine","onZero","series","smooth","lineStyle","width","shadowColor","color","shadowBlur","shadowOffsetY","itemStyle","borderColor","this","$echarts","init","document","getElementById","setOption","drawChart2","drawData2","myChart","min","max","axisLabel","formatter","normal","position","barWidth","params","dataIndex","timetrans","date","getFullYear","getMonth","getDate","Inquire","_this","start","end","Date","service","url","method","getShuLiang","departmentId","useDepartId","then","res","success","getranking","_this2","getTime","monitoringTime","_this3","arr","forEach","item","push","reverse","mounted","language","views_statistics","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","_v","_s","$t","staticStyle","margin-right","start-placeholder","end-placeholder","unlink-panels","model","callback","$$v","expression","minwidth","placeholder","_l","key","on","click","$event","height","margin","id","change","prop","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.f8143db562cec1c5d12d.js","sourcesContent":["<template>\r\n  <div class=\"tongji\">\r\n    <img src=\"../assets/img/bg.png\" alt=\"\" class=\"bg\" />\r\n    <Topbar>\r\n      <i class=\"iconfont\">&#xe62d;</i>\r\n      <span>{{ $t(\"statistics.title\") }}</span>\r\n    </Topbar>\r\n    <div class=\"tongji-main\">\r\n      <div class=\"top\">\r\n        <div class=\"top-header\">\r\n          <div class=\"left\">{{ $t(\"statistics.deviceNum\") }}</div>\r\n          <div class=\"right\">\r\n            <div class=\"title\">{{ $t(\"statistics.sreachTime\") }}:</div>\r\n            <el-date-picker\r\n              v-model=\"time\"\r\n              type=\"daterange\"\r\n              :start-placeholder=\"choosePlaceholder.startTime\"\r\n              :end-placeholder=\"choosePlaceholder.endTime\"\r\n              style=\"margin-right: 12px\"\r\n              unlink-panels\r\n            >\r\n            </el-date-picker>\r\n            <el-select\r\n              v-model=\"value\"\r\n              :placeholder=\"choosePlaceholder.choose\"\r\n              style=\"margin-right: 22px; minwidth: 132px\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in options\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n            <div class=\"buttun\" @click=\"Inquire('')\">\r\n              {{ $t(\"statistics.sreach\") }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          id=\"main1\"\r\n          style=\"width: 1330px; height: 490px; margin: auto\"\r\n        ></div>\r\n      </div>\r\n      <div class=\"botton\">\r\n        <div class=\"botton-left\">\r\n          <div class=\"left-header\">\r\n            <div class=\"left\">{{ $t(\"statistics.userDepart\") }}</div>\r\n            <div class=\"right\">\r\n              <el-select\r\n                v-model=\"value2\"\r\n                :placeholder=\"choosePlaceholder.choose\"\r\n                style=\"margin-right: 22px; minwidth: 132px\"\r\n                @change=\"getranking('')\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in options2\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n              <el-select\r\n                v-model=\"value3\"\r\n                :placeholder=\"choosePlaceholder.choose\"\r\n                style=\"margin-right: 22px; minwidth: 132px\"\r\n                @change=\"getranking('')\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n          <el-table :data=\"tableData\" style=\"width: 70%; margin: auto\">\r\n            <el-table-column prop=\"rank\" :label=\"tableName.rank\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"departmentName\"\r\n              :label=\"tableName.departmentName\"\r\n              width=\"180\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"equipmentQuantity\"\r\n              :label=\"tableName.equipmentQuantity\"\r\n            >\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n        <div class=\"botton-right\">\r\n          <div class=\"right-header\">\r\n            <div class=\"left\">{{ $t(\"statistics.nearTime\") }}</div>\r\n            <div class=\"right\">\r\n              <el-select\r\n                v-model=\"value4\"\r\n                :placeholder=\"choosePlaceholder.choose\"\r\n                style=\"margin-right: 22px; minwidth: 132px\"\r\n                @change=\"monitoringTime\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"main2\"\r\n            style=\"width: 420px; height: 390px; margin: auto\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport Topbar from \"../components/topbar\";\r\nimport { getPaiHang, getShuLiang, getJianCe } from \"@/api/statistics\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      time: [],\r\n      choosePlaceholder: {\r\n        choose: \"请选择\",\r\n        startTime: \"开始日期\",\r\n        endTime: \"结束日期\"\r\n      },\r\n      tableName: {\r\n        rank: \"排名\",\r\n        departmentName: \"科室名称\",\r\n        equipmentQuantity: \"设备使用数量\"\r\n      },\r\n      options: [\r\n        {\r\n          value: 0,\r\n          label: \"体温贴\"\r\n        },\r\n        {\r\n          value: 1,\r\n          label: \"心电贴\"\r\n        },\r\n        {\r\n          value: 2,\r\n          label: \"血氧仪\"\r\n        },\r\n        {\r\n          value: 3,\r\n          label: \"离床感应仪\"\r\n        }\r\n      ],\r\n      options2: [\r\n        {\r\n          value: 0,\r\n          label: \"最近7天\"\r\n        },\r\n        {\r\n          value: 1,\r\n          label: \"最近30天\"\r\n        }\r\n      ],\r\n      value: 0,\r\n      value2: 0,\r\n      value3: 0,\r\n      value4: 0,\r\n      tableData: [],\r\n      dataQu: [\r\n        \">25天\",\r\n        \"20-25天\",\r\n        \"15-20天\",\r\n        \"10-15天\",\r\n        \"5-10天\",\r\n        \"2-5天\",\r\n        \"0-2天\"\r\n      ]\r\n    };\r\n  },\r\n  components: {\r\n    Topbar\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"login\", [\"useDepartId\", \"role\"]), //获取departid和role\r\n    ...mapState(\"login\", [\"language\"])\r\n  },\r\n  methods: {\r\n    drawChart(drawData) {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = this.$echarts.init(document.getElementById(\"main1\"));\r\n      // 指定图表的配置项和数据\r\n      let option = {\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"4%\",\r\n          bottom: \"3%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          boundaryGap: false,\r\n          splitLine: { show: false }\r\n        },\r\n        yAxis: {\r\n          minInterval: 1,\r\n          type: \"value\",\r\n          axisLine: { onZero: false }\r\n        },\r\n        series: [\r\n          {\r\n            type: \"line\",\r\n            smooth: true,\r\n            lineStyle: {\r\n              width: 3,\r\n              shadowColor: \"#00AFF0\",\r\n              color: \"#00AFF0\",\r\n              shadowBlur: 10,\r\n              shadowOffsetY: 10\r\n            },\r\n            itemStyle: {\r\n              borderColor: \"#00AFF0\",\r\n              color: \"#00AFF0\"\r\n            },\r\n            data: drawData\r\n          }\r\n        ]\r\n      };\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart.setOption(option);\r\n    },\r\n    drawChart2(drawData2) {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = this.$echarts.init(document.getElementById(\"main2\"));\r\n      // 指定图表的配置项和数据\r\n      let option = {\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"9%\",\r\n          bottom: \"3%\",\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          min: 0,\r\n          max: 100,\r\n          type: \"value\",\r\n          axisLabel: {\r\n            formatter: \"{value}%\"\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: \"category\",\r\n          data: this.dataQu\r\n        },\r\n        series: [\r\n          {\r\n            type: \"bar\",\r\n\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: \"right\",\r\n                formatter: \"{c}%\"\r\n              }\r\n            },\r\n            barWidth: 15, //柱状宽度\r\n            itemStyle: {\r\n              normal: {\r\n                // 随机显示\r\n                //color:function(d){return \"#\"+Math.floor(Math.random()*(256*256*256-1)).toString(16);}\r\n                // 定制显示（按顺序）\r\n                color: function(params) {\r\n                  var colorList = [\r\n                    \"#F08A5D\",\r\n                    \"#6DD400\",\r\n                    \"#CD5677\",\r\n                    \"#0092CA\",\r\n                    \"#6A2C70\",\r\n                    \"#0F3057\",\r\n                    \"#FFCB3D\"\r\n                  ];\r\n                  return colorList[params.dataIndex];\r\n                }\r\n              }\r\n            },\r\n            data: drawData2\r\n          }\r\n        ]\r\n      };\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart.setOption(option);\r\n    },\r\n    timetrans(date) {\r\n      //时间戳转字符串\r\n      var Y = date.getFullYear() + \"-\";\r\n      var M =\r\n        (date.getMonth() + 1 < 10\r\n          ? \"0\" + (date.getMonth() + 1)\r\n          : date.getMonth() + 1) + \"-\";\r\n      var D = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\r\n      return Y + M + D;\r\n    },\r\n    Inquire(data) {\r\n      //获取设备使用数量\r\n      var start = \"\";\r\n      var end = \"\";\r\n      if (data) {\r\n        start = data[0];\r\n        end = data[1];\r\n      } else {\r\n        start = this.timetrans(new Date(this.time[0]));\r\n        end = this.timetrans(new Date(this.time[1]));\r\n      }\r\n      getShuLiang({\r\n        departmentId: this.useDepartId,\r\n        start,\r\n        end,\r\n        type: this.value\r\n      }).then(res => {\r\n        console.log(res);\r\n        if (res.success) {\r\n          this.drawChart(res.data);\r\n        } else {\r\n          this.drawChart();\r\n        }\r\n      });\r\n    },\r\n    getranking() {\r\n      //科室使用人数排行\r\n      var start = \"\";\r\n      if (this.value2 == 0) {\r\n        start = this.timetrans(\r\n          new Date(new Date().getTime() - 1000 * 60 * 60 * 24 * 7)\r\n        );\r\n      } else {\r\n        start = this.timetrans(\r\n          new Date(new Date().getTime() - 1000 * 60 * 60 * 24 * 30)\r\n        );\r\n      }\r\n      getPaiHang({\r\n        start,\r\n        end: this.timetrans(new Date()),\r\n        type: this.value3\r\n      }).then(res => {\r\n        console.log(res);\r\n        if (res.success) {\r\n          this.tableData = res.data;\r\n        } else {\r\n          this.tableData = \"\";\r\n        }\r\n      });\r\n    },\r\n    monitoringTime() {\r\n      //监测时长分布\r\n      getJianCe({\r\n        departmentId: this.useDepartId,\r\n        type: this.value4\r\n      }).then(res => {\r\n        console.log(res);\r\n        if (res.success) {\r\n          var arr = [];\r\n          res.data.forEach(item => {\r\n            arr.push(item[1]);\r\n          });\r\n          this.drawChart2(arr.reverse());\r\n          console.log(arr.reverse());\r\n        } else {\r\n          this.drawChart2();\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(this.role);\r\n    if (this.language == \"en\") {\r\n      this.dataQu = [\r\n        \">25days\",\r\n        \"20 to 25days\",\r\n        \"15 to 20days\",\r\n        \"10 to 15days\",\r\n        \"5 to 10days\",\r\n        \"2 to 5days\",\r\n        \"0 to 2days\"\r\n      ];\r\n      this.tableName = {\r\n        rank: \"Ranking\",\r\n        departmentName: \"Department Name\",\r\n        equipmentQuantity: \"Number Of Device Used\"\r\n      };\r\n      this.choosePlaceholder = {\r\n        choose: \"请选择\",\r\n        startTime: \"开始日期\",\r\n        endTime: \"结束日期\"\r\n      };\r\n      this.options = [\r\n        {\r\n          value: 0,\r\n          label: \"Temperature patch\"\r\n        },\r\n        {\r\n          value: 1,\r\n          label: \"ECG patch\"\r\n        },\r\n        {\r\n          value: 2,\r\n          label: \"Oximeter\"\r\n        },\r\n        {\r\n          value: 3,\r\n          label: \"Off-bed inductor\"\r\n        }\r\n      ];\r\n      this.options2 = [\r\n        {\r\n          value: 0,\r\n          label: \"Last 7 days\"\r\n        },\r\n        {\r\n          value: 1,\r\n          label: \"Last 30 days\"\r\n        }\r\n      ];\r\n    }\r\n    this.time = [\r\n      this.timetrans(new Date(new Date().getTime() - 1000 * 60 * 60 * 24 * 7)),\r\n      this.timetrans(new Date())\r\n    ];\r\n    this.Inquire(this.time);\r\n    this.getranking();\r\n    this.monitoringTime();\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.tongji {\r\n  width: 100%;\r\n  background-size: cover;\r\n}\r\n.tongji-main {\r\n  width: 80%;\r\n  margin: 110px auto;\r\n  position: relative;\r\n  .top {\r\n    height: 570px;\r\n    background: #ffffff;\r\n    overflow: auto;\r\n  }\r\n  .top-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-left: 32px;\r\n    padding-top: 16px;\r\n    .left {\r\n      height: 54px;\r\n      font-size: 22px;\r\n      font-family: PingFangSC-Medium, PingFang SC;\r\n      font-weight: 500;\r\n      color: rgba(70, 74, 83, 1);\r\n      line-height: 54px;\r\n    }\r\n    .right {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-right: 120px;\r\n    }\r\n    .title {\r\n      height: 25px;\r\n      font-size: 18px;\r\n      font-weight: 500;\r\n      color: rgba(0, 0, 0, 1);\r\n      margin-right: 10px;\r\n    }\r\n    .buttun {\r\n      width: 109px;\r\n      height: 35px;\r\n      background: rgba(24, 144, 255, 1);\r\n      border-radius: 2px;\r\n      text-align: center;\r\n      line-height: 35px;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: rgba(255, 255, 255, 1);\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  div /deep/ .cell {\r\n    word-break: normal;\r\n  }\r\n  div /deep/ .el-date-editor {\r\n    width: 350px !important;\r\n  }\r\n  .botton {\r\n    height: 480px;\r\n    margin-top: 22px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .left-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-left: 48px;\r\n      margin-top: 10px;\r\n      .left {\r\n        font-size: 22px;\r\n        font-weight: 500;\r\n        color: rgba(70, 74, 83, 1);\r\n        line-height: 54px;\r\n        width: 280px;\r\n      }\r\n      .right {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-right: 30px;\r\n      }\r\n    }\r\n    .botton-left {\r\n      width: 49%;\r\n      background: #ffffff;\r\n      overflow: auto;\r\n    }\r\n    .botton-right {\r\n      width: 49%;\r\n      background: #ffffff;\r\n    }\r\n    .right-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-left: 48px;\r\n      margin-top: 10px;\r\n      .left {\r\n        font-size: 22px;\r\n        font-weight: 500;\r\n        color: rgba(70, 74, 83, 1);\r\n        line-height: 54px;\r\n        max-width: 450px;\r\n      }\r\n      .right {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-right: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/statistics.vue","import service from '../utils/http'\r\n/*科室使用人数排行*/\r\nexport function getPaiHang(data){\r\n  return service({\r\n    url: '/statics/department',\r\n    method: 'get',\r\n    params:data\r\n  })\r\n}\r\n/*使用设备数量*/\r\nexport function getShuLiang(data){\r\n    return service({\r\n      url: '/statics/machine',\r\n      method: 'get',\r\n      params:data\r\n    })\r\n}\r\n/*最近30天不同监测时长分布*/\r\nexport function getJianCe(data){\r\n    return service({\r\n      url: '/statics/monitor',\r\n      method: 'get',\r\n      params:data\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/statistics.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tongji\"},[_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"../assets/img/bg.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('Topbar',[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t(\"statistics.title\")))])]),_vm._v(\" \"),_c('div',{staticClass:\"tongji-main\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t(\"statistics.deviceNum\")))]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t(\"statistics.sreachTime\"))+\":\")]),_vm._v(\" \"),_c('el-date-picker',{staticStyle:{\"margin-right\":\"12px\"},attrs:{\"type\":\"daterange\",\"start-placeholder\":_vm.choosePlaceholder.startTime,\"end-placeholder\":_vm.choosePlaceholder.endTime,\"unlink-panels\":\"\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"minwidth\":\"132px\"},attrs:{\"placeholder\":_vm.choosePlaceholder.choose},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"buttun\",on:{\"click\":function($event){return _vm.Inquire('')}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t(\"statistics.sreach\"))+\"\\n          \")])],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"1330px\",\"height\":\"490px\",\"margin\":\"auto\"},attrs:{\"id\":\"main1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"botton\"},[_c('div',{staticClass:\"botton-left\"},[_c('div',{staticClass:\"left-header\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t(\"statistics.userDepart\")))]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"minwidth\":\"132px\"},attrs:{\"placeholder\":_vm.choosePlaceholder.choose},on:{\"change\":function($event){return _vm.getranking('')}},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}},_vm._l((_vm.options2),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"minwidth\":\"132px\"},attrs:{\"placeholder\":_vm.choosePlaceholder.choose},on:{\"change\":function($event){return _vm.getranking('')}},model:{value:(_vm.value3),callback:function ($$v) {_vm.value3=$$v},expression:\"value3\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"70%\",\"margin\":\"auto\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"rank\",\"label\":_vm.tableName.rank,\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"label\":_vm.tableName.departmentName,\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"equipmentQuantity\",\"label\":_vm.tableName.equipmentQuantity}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"botton-right\"},[_c('div',{staticClass:\"right-header\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.$t(\"statistics.nearTime\")))]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"minwidth\":\"132px\"},attrs:{\"placeholder\":_vm.choosePlaceholder.choose},on:{\"change\":_vm.monitoringTime},model:{value:(_vm.value4),callback:function ($$v) {_vm.value4=$$v},expression:\"value4\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"420px\",\"height\":\"390px\",\"margin\":\"auto\"},attrs:{\"id\":\"main2\"}})])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20afbc72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/statistics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20afbc72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./statistics.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./statistics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./statistics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20afbc72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./statistics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20afbc72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistics.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}