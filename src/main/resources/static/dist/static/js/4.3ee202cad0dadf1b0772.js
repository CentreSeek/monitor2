webpackJsonp([4],{Kv3u:function(t,e,a){t.exports=a.p+"static/img/router.5f3b39a.png"},NbtJ:function(t,e){},aj52:function(t,e,a){t.exports=a.p+"static/img/router1.988b1c1.png"},e4k3:function(t,e){},fqPH:function(t,e){},r5g0:function(t,e){},wJM7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("NYxO");var s=a("LSqF"),r=a("3pLw");function n(t){return Object(r.a)({url:"/hospital/rooms",method:"get",params:t})}var i={},o={name:"qylyq",data:function(){return{qyRepeater:{ip:i.currentRepeater.ip,departmentId:i.currentRepeater.departmentId,roomId:i.currentRepeater.roomId},roomList:[],language:i.$store.state.login.language}},props:{qylyqStatus:{type:Boolean},getRepeaterListFn:{type:Function,default:null},currentRepeater:{type:Object}},beforeCreate:function(){i=this},mounted:function(){i.getRoomsListFn()},methods:{getRoomsListFn:function(){n({departmentId:i.qyRepeater.departmentId}).then(function(t){200==t.code&&t.success&&(i.roomList=t.data,i.roomList.length)})},selectDepartment:function(t){i.qyRepeater.departmentId=t,i.getRoomsListFn()},selectRoom:function(t){i.qyRepeater.roomId=t},openRepeater:function(){if(""==i.qyRepeater.ip)i.error(i.$t("router.err.ipnull"));else if(""==i.qyRepeater.departmentId)i.error(i.$t("router.err.ksnull"));else if(""==i.qyRepeater.roomId)i.error(i.$t("router.err.fjnull"));else{(function(t){return Object(r.a)({url:"/repeater/start",method:"put",data:t})})({ip:i.qyRepeater.ip,departmentId:i.qyRepeater.departmentId,roomId:i.qyRepeater.roomId,id:i.currentRepeater.id}).then(function(t){200==t.code&&t.success&&(i.success(i.$t("message.OperSuccess")),i.$emit("getqylyqStatus",!i.qylyqStatus),i.getRepeaterListFn())})}},closeQylyq:function(){i.$emit("getqylyqStatus",!i.qylyqStatus)}},components:{PopUp:s.a}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("PopUp",{attrs:{flow:t.qylyqStatus}},[s("div",{staticClass:"box"},[s("div",{staticClass:"container"},[s("i",{staticClass:"iconfont close",on:{click:t.closeQylyq}},[t._v("")]),t._v(" "),s("div",{staticClass:"title clearfix"},[s("i",{staticClass:"iconfont title-img"},[t._v("")]),t._v(" "),s("span",{staticClass:"title-span"},[t._v(t._s(t.$t("router.qylyq")))])]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"form"},[s("div",{staticClass:"sb-form form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.sbmc"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("span",[t._v(t._s(t.currentRepeater.repeaterName))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.sbxh"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("span",[t._v(t._s(t.currentRepeater.repeaterNum))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.mac"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("span",[t._v(t._s(t.currentRepeater.mac))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.ip"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-input",{staticClass:"select",attrs:{placeholder:"ip"},model:{value:t.qyRepeater.ip,callback:function(e){t.$set(t.qyRepeater,"ip",e)},expression:"qyRepeater.ip"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.syks"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-select",{staticClass:"select",staticStyle:{width:"133px",float:"left"},attrs:{filterable:"",placeholder:t.$t("select")},on:{change:t.selectDepartment},model:{value:t.qyRepeater.departmentId,callback:function(e){t.$set(t.qyRepeater,"departmentId",e)},expression:"qyRepeater.departmentId"}},t._l(t.$store.state.monitor.departmentList,function(t){return s("el-option",{key:t.departmentId,attrs:{label:t.name,value:t.departmentId}})}),1),t._v(" "),s("el-select",{staticClass:"select",staticStyle:{width:"133px",float:"left"},attrs:{filterable:"",placeholder:t.$t("select")},on:{change:t.selectRoom},model:{value:t.qyRepeater.roomId,callback:function(e){t.$set(t.qyRepeater,"roomId",e)},expression:"qyRepeater.roomId"}},t._l(t.roomList,function(t){return s("el-option",{key:t.roomId,attrs:{label:t.name,value:t.roomId}})}),1)],1)])]),t._v(" "),s("div",{staticClass:"form-img"},["zh"==t.language?s("img",{attrs:{src:a("Kv3u"),alt:""}}):t._e(),t._v(" "),"en"==t.language?s("img",{attrs:{src:a("aj52"),alt:""}}):t._e()])]),t._v(" "),s("div",{staticClass:"ipt-group clearfix"},[s("a",{staticClass:"on",attrs:{href:"javascript:void(0)"},on:{click:t.openRepeater}},[t._v(t._s(t.$t("button.confirm")))]),t._v(" "),s("a",{staticClass:"off",attrs:{href:"javascript:void(0)"},on:{click:t.closeQylyq}},[t._v(t._s(t.$t("button.close")))])])])])])},staticRenderFns:[]};var c=a("VU/8")(o,l,!1,function(t){a("NbtJ")},"data-v-7d3f06e3",null).exports,p={},u={name:"tjlyq",data:function(){return{machineTypeList:[],machineNumList:[],newRepeater:{departmentId:"",id:"",machineNumId:"",roomId:"",mac:"",ip:""},language:p.$store.state.login.language,roomList:[]}},props:{tjlyqStatus:{type:Boolean},getRepeaterListFn:{type:Function,default:null}},beforeCreate:function(){p=this},mounted:function(){p.getMachineTypeFn()},methods:{getRoomsListFn:function(){n({departmentId:p.newRepeater.departmentId}).then(function(t){200==t.code&&t.success&&(p.roomList=t.data,0!=p.roomList.length?p.newRepeater.roomId=p.roomList[0].roomId:p.newRepeater.roomId=null)})},selectDepartment:function(t){p.newRepeater.departmentId=t,p.getRoomsListFn()},selectRoom:function(t){p.newRepeater.roomId=t},getMachineTypeFn:function(){var t;Object(r.a)({url:"/repeater/machineType",method:"get",params:t}).then(function(t){200==t.code&&t.success&&(p.machineTypeList=t.data)})},selectMachineType:function(t){p.newRepeater.id=t,p.getMachineNumFn()},getMachineNumFn:function(){(function(t){return Object(r.a)({url:"/repeater/machineNum",method:"get",params:t})})({id:p.newRepeater.id}).then(function(t){200==t.code&&t.success&&(p.machineNumList=t.data,p.newRepeater.machineNumId=p.machineNumList[0].id)})},addRepeater:function(){if(""==p.newRepeater.id)p.error(p.$t("router.err.sbmc"));else if(""==p.newRepeater.machineNumId)p.error(p.$t("router.err.sbxh"));else if(""==p.newRepeater.mac)p.error(p.$t("router.err.macnull"));else if(""==p.newRepeater.ip)p.error(p.$t("router.err.ipnull"));else if(""==p.newRepeater.departmentId)p.error(p.$t("router.err.ksnull"));else if(""==p.newRepeater.roomId)p.error(p.$t("router.err.fjnull"));else{(function(t){return Object(r.a)({url:"/repeater/repeater",method:"post",data:t})})({machineTypeId:p.newRepeater.machineNumId,mac:p.newRepeater.mac,departmentId:p.newRepeater.departmentId,roomId:p.newRepeater.roomId,ip:p.newRepeater.ip}).then(function(t){200==t.code&&t.success&&(p.success(p.$t("message.OperSuccess")),p.closeTjlyq(),p.getRepeaterListFn(),p.newRepeater={departmentId:"",id:"",machineNumId:"",roomId:"",mac:"",ip:""})})}},closeTjlyq:function(){p.$emit("gettjlyqStatus",!p.tjlyqStatus)}},components:{PopUp:s.a}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("PopUp",{attrs:{flow:t.tjlyqStatus}},[s("div",{staticClass:"box"},[s("div",{staticClass:"container"},[s("i",{staticClass:"iconfont close",on:{click:t.closeTjlyq}},[t._v("")]),t._v(" "),s("div",{staticClass:"title clearfix"},[s("i",{staticClass:"iconfont title-img"},[t._v("")]),t._v(" "),s("span",{staticClass:"title-span"},[t._v(t._s(t.$t("router.tjlyq")))])]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.sbmc"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:t.$t("message.select")},on:{change:t.selectMachineType},model:{value:t.newRepeater.id,callback:function(e){t.$set(t.newRepeater,"id",e)},expression:"newRepeater.id"}},t._l(t.machineTypeList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.sbxh"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:t.$t("message.select")},model:{value:t.newRepeater.machineNumId,callback:function(e){t.$set(t.newRepeater,"machineNumId",e)},expression:"newRepeater.machineNumId"}},t._l(t.machineNumList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.mac"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-input",{staticClass:"select",attrs:{placeholder:"mac"},model:{value:t.newRepeater.mac,callback:function(e){t.$set(t.newRepeater,"mac",e)},expression:"newRepeater.mac"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name"},[s("span",[t._v(t._s(t.$t("router.ip"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-input",{staticClass:"select",attrs:{placeholder:"ip"},model:{value:t.newRepeater.ip,callback:function(e){t.$set(t.newRepeater,"ip",e)},expression:"newRepeater.ip"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-name form-item-name-em"},[s("span",[t._v(t._s(t.$t("router.bsks")))]),s("em",[t._v("：")])]),t._v(" "),s("div",{staticClass:"form-item-value"},[s("el-select",{staticClass:"select",staticStyle:{width:"133px",float:"left"},attrs:{filterable:"",placeholder:t.$t("message.select")},on:{change:t.selectDepartment},model:{value:t.newRepeater.departmentId,callback:function(e){t.$set(t.newRepeater,"departmentId",e)},expression:"newRepeater.departmentId"}},t._l(t.$store.state.monitor.departmentList,function(t){return s("el-option",{key:t.departmentId,attrs:{label:t.name,value:t.departmentId}})}),1),t._v(" "),s("el-select",{staticClass:"select",staticStyle:{width:"133px",float:"left"},attrs:{filterable:"",placeholder:t.$t("message.select")},on:{change:t.selectRoom},model:{value:t.newRepeater.roomId,callback:function(e){t.$set(t.newRepeater,"roomId",e)},expression:"newRepeater.roomId"}},t._l(t.roomList,function(t){return s("el-option",{key:t.roomId,attrs:{label:t.name,value:t.roomId}})}),1)],1)])]),t._v(" "),s("div",{staticClass:"form-img"},["zh"==t.language?s("img",{attrs:{src:a("Kv3u"),alt:""}}):t._e(),t._v(" "),"en"==t.language?s("img",{attrs:{src:a("aj52"),alt:""}}):t._e()])]),t._v(" "),s("div",{staticClass:"ipt-group clearfix"},[s("a",{staticClass:"on",attrs:{href:"javascript:void(0)"},on:{click:t.addRepeater}},[t._v(t._s(t.$t("button.confirm")))]),t._v(" "),s("a",{staticClass:"off",attrs:{href:"javascript:void(0)"},on:{click:t.closeTjlyq}},[t._v(t._s(t.$t("button.close")))])])])])])},staticRenderFns:[]};var d=a("VU/8")(u,m,!1,function(t){a("fqPH")},"data-v-21ad38eb",null).exports,v={},f={name:"ghsb",data:function(){return{gzType:0}},props:{stopId:{type:[Number,String]},tylyqStatus:{type:Boolean},getRepeaterListFn:{type:Function,default:null}},beforeCreate:function(){v=this},mounted:function(){},methods:{stopRepeaterFn:function(){var t;0==v.gzType?t=v.$t("router.reason1"):1==v.gzType?t=v.$t("router.reason2"):2==v.gzType&&(t=v.$t("router.reason3"));var e={id:v.stopId,remark:t};(function(t){return Object(r.a)({url:"/repeater/stop",method:"put",data:t})})(e).then(function(t){200==t.code&&t.success&&(v.success(v.$t("message.OperSuccess")),v.$emit("gettylyqStatus",!v.tylyqStatus),v.getRepeaterListFn())})},closeTylyq:function(){v.$emit("gettylyqStatus",!v.tylyqStatus)}},components:{PopUp:s.a}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PopUp",{attrs:{flow:t.tylyqStatus}},[a("div",{staticClass:"box"},[a("div",{staticClass:"container"},[a("i",{staticClass:"iconfont close",on:{click:t.closeTylyq}},[t._v("")]),t._v(" "),a("div",{staticClass:"title clearfix"},[a("i",{staticClass:"iconfont title-img"},[t._v("")]),t._v(" "),a("span",{staticClass:"title-span"},[t._v(t._s(t.$t("router.tylyq")))])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"form"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"form-item-name"},[a("span",[t._v(t._s(t.$t("router.tyyy"))+"：")])]),t._v(" "),a("div",{staticClass:"form-item-value"},[a("a",{staticClass:"resaon",class:0==t.gzType?"a-active":"",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.gzType=0}}},[t._v(t._s(t.$t("router.reason1")))]),t._v(" "),a("a",{staticClass:"resaon",class:1==t.gzType?"a-active":"",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.gzType=1}}},[t._v(t._s(t.$t("router.reason2")))]),t._v(" "),a("a",{staticClass:"resaon",class:2==t.gzType?"a-active":"",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.gzType=2}}},[t._v(t._s(t.$t("router.reason3")))])])])])]),t._v(" "),a("div",{staticClass:"ipt-group clearfix"},[a("a",{staticClass:"on",attrs:{href:"javascript:void(0)"},on:{click:t.stopRepeaterFn}},[t._v(t._s(t.$t("button.confirm")))]),t._v(" "),a("a",{staticClass:"off",attrs:{href:"javascript:void(0)"},on:{click:t.closeTylyq}},[t._v(t._s(t.$t("button.close")))])])])])])},staticRenderFns:[]};var _={},g={name:"router",data:function(){return{qylyqStatus:!1,tjlyqStatus:!1,tylyqStatus:!1,userInfo:{},stopId:"",pageSize:_.global.pageSize,currentPage:_.global.currentPage,currentDepartmentId:"",departmentList:_.$store.state.monitor.departmentList,repeaterList:[],roomList:[],currentRepeater:{},repeaterData:[]}},beforeCreate:function(){_=this},mounted:function(){_.userInfo=this.$store.state.login.userInfo,_.currentDepartmentId=_.departmentList[0].departmentId,_.getRepeaterListFn()},methods:{handleCurrentChange:function(t){_.currentPage=t,_.getRepeaterListFn()},gettylyqStatus:function(t){_.tylyqStatus=t},getqylyqStatus:function(t){_.qylyqStatus=t},gettjlyqStatus:function(t){_.tjlyqStatus=t},stopLyq:function(t){_.stopId=t.id,_.tylyqStatus=!_.tylyqStatus},openLyq:function(t){_.currentRepeater=t,_.qylyqStatus=!_.qylyqStatus},selectDepart:function(t){_.currentDepartmentId=t,_.currentPage=_.global.currentPage,_.getRepeaterListFn()},getRepeaterListFn:function(){(function(t){return Object(r.a)({url:"/repeater/repeater",method:"get",params:t})})({departmentId:_.currentDepartmentId,page:_.currentPage,pageSize:_.global.pageSize}).then(function(t){200==t.code&&t.success&&(_.repeaterData=t.data,_.repeaterList=t.data.list)})}},components:{qylyq:c,tjlyq:d,tylyq:a("VU/8")(f,y,!1,function(t){a("r5g0")},"data-v-0dd3ec22",null).exports,Topbar:a("looZ").a}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"router-all"},[s("img",{staticClass:"bg",attrs:{src:a("yEeP"),alt:""}}),t._v(" "),s("Topbar",[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v(t._s(t.$t("router.title")))])]),t._v(" "),s("div",{staticClass:"router-main"},[s("div",{staticClass:"router-choose"},[s("div",{staticClass:"router-row"},[s("div",{staticClass:"row-left"},[s("span",{staticClass:"choose-title"},[t._v(t._s(t.$t("router.ksxz"))+":")]),t._v(" "),s("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:t.$t("message.select")},on:{change:t.selectDepart},model:{value:t.currentDepartmentId,callback:function(e){t.currentDepartmentId=e},expression:"currentDepartmentId"}},t._l(t.departmentList,function(t){return s("el-option",{key:t.departmentId,attrs:{label:t.name,value:t.departmentId}})}),1)],1),t._v(" "),s("div",{staticClass:"row-right"},[s("div",{staticClass:"buttons"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.tjlyqStatus=!t.tjlyqStatus}}},[t._v(t._s(t.$t("router.tjly")))])])])])]),t._v(" "),s("div",{staticClass:"main"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.repeaterList,"empty-text":t.$t("message.noData")}},[s("el-table-column",{attrs:{prop:"id",label:t.$t("router.xh"),width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"repeaterName",label:t.$t("router.sbmc")}}),t._v(" "),s("el-table-column",{attrs:{prop:"repeaterNum",label:t.$t("router.sbxh")}}),t._v(" "),s("el-table-column",{attrs:{prop:"mac",label:t.$t("router.mac")}}),t._v(" "),s("el-table-column",{attrs:{prop:"ip",label:"IP"}}),t._v(" "),s("el-table-column",{attrs:{prop:"departmentName",label:t.$t("router.bsks")}}),t._v(" "),s("el-table-column",{attrs:{prop:"roomName",label:t.$t("router.azwz")}}),t._v(" "),s("el-table-column",{attrs:{prop:"linkstatus",label:t.$t("router.state")},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.repeaterList[e.$index].linkStatus?s("span",{staticStyle:{color:"rgb(224, 32, 32)"}},[t._v("OFF")]):t._e(),t._v(" "),0==t.repeaterList[e.$index].linkStatus?s("span",{staticStyle:{cursor:"pointer"}},[t._v("ON")]):t._e(),t._v(" "),2==t.repeaterList[e.$index].linkStatus?s("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.$t("router.stop")))]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"remark",label:t.$t("router.remark")}}),t._v(" "),s("el-table-column",{attrs:{prop:"operation",label:t.$t("router.option")},scopedSlots:t._u([{key:"default",fn:function(e){return[2==t.repeaterList[e.$index].linkStatus?s("span",{staticStyle:{cursor:"pointer",color:"rgb(0, 145, 255)"},on:{click:function(a){return t.openLyq(e.row)}}},[t._v(t._s(t.$t("router.enable")))]):t._e(),t._v(" "),2!=t.repeaterList[e.$index].linkStatus?s("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.stopLyq(e.row)}}},[t._v(t._s(t.$t("router.stop")))]):t._e()]}}])})],1)],1),t._v(" "),s("el-pagination",{attrs:{background:"","page-size":t.pageSize,"current-page":t.currentPage,layout:"prev, pager, next",total:t.repeaterData.records},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),t.qylyqStatus?s("qylyq",{attrs:{qylyqStatus:t.qylyqStatus,currentRepeater:t.currentRepeater,getRepeaterListFn:t.getRepeaterListFn},on:{getqylyqStatus:t.getqylyqStatus}}):t._e(),t._v(" "),t.tjlyqStatus?s("tjlyq",{attrs:{tjlyqStatus:t.tjlyqStatus,getRepeaterListFn:t.getRepeaterListFn},on:{gettjlyqStatus:t.gettjlyqStatus}}):t._e(),t._v(" "),t.tylyqStatus?s("tylyq",{attrs:{tylyqStatus:t.tylyqStatus,stopId:t.stopId,getRepeaterListFn:t.getRepeaterListFn},on:{gettylyqStatus:t.gettylyqStatus}}):t._e()],1)},staticRenderFns:[]};var R=a("VU/8")(g,q,!1,function(t){a("e4k3")},null,null);e.default=R.exports}});
//# sourceMappingURL=4.3ee202cad0dadf1b0772.js.map