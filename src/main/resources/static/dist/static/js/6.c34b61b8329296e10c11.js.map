{"version":3,"sources":["webpack:///src/views/statistics.vue","webpack:///./src/api/statistics.js","webpack:///./src/views/statistics.vue?85ee","webpack:///./src/views/statistics.vue"],"names":["statistics","data","time","options","value","label","options2","value2","value3","value4","tableData","maxValue","intervalValue","components","Topbar","topbar","computed","extends_default","Object","vuex_esm","methods","drawChart","drawData","myChart","this","$echarts","init","document","getElementById","option","grid","left","right","bottom","containLabel","xAxis","type","boundaryGap","splitLine","show","yAxis","min","max","interval","axisLine","onZero","series","smooth","lineStyle","width","shadowColor","color","shadowBlur","shadowOffsetY","itemStyle","borderColor","setOption","drawChart2","drawData2","normal","position","barWidth","params","dataIndex","timetrans","date","getFullYear","getMonth","getDate","Inquire","_this","start","end","Date","service","url","method","getShuLiang","departmentId","useDepartId","then","res","success","getranking","_this2","getTime","monitoringTime","_this3","arr","forEach","item","push","mounted","role","views_statistics","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","_v","staticStyle","margin-right","start-placeholder","end-placeholder","unlink-panels","model","callback","$$v","expression","placeholder","_l","key","on","click","$event","height","margin","id","change","prop","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.c34b61b8329296e10c11.js","sourcesContent":["<template>\r\n    <div class=\"tongji\">\r\n        <img src=\"../assets/img/bg.png\" alt=\"\" class='bg'>\r\n        <Topbar>\r\n         <i class='iconfont'>&#xe62d;</i>\r\n         <span>统计管理</span>\r\n        </Topbar>\r\n        <div class=\"tongji-main\">\r\n            <div class=\"top\">\r\n                <div class=\"top-header\">\r\n                    <div class=\"left\">使用设备数量</div>\r\n                    <div class=\"right\">\r\n                       <div class=\"title\">检索时间：</div>\r\n                       <el-date-picker\r\n                        v-model=\"time\"\r\n                        type=\"daterange\"\r\n                        start-placeholder=\"开始日期\"\r\n                        end-placeholder=\"结束日期\"\r\n                        style=\"margin-right:12px\"\r\n                        unlink-panels\r\n                        >\r\n                       </el-date-picker>\r\n                       <el-select v-model=\"value\" placeholder=\"请选择\" style=\"margin-right:22px;width:132px\">\r\n                            <el-option\r\n                            v-for=\"item in options\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                       <div class=\"buttun\" @click=\"Inquire('')\">检索</div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"main1\" style=\"width: 1330px;height:490px;margin:auto\"></div>\r\n            </div>\r\n            <div class=\"botton\">\r\n                <div class=\"botton-left\">\r\n                    <div class=\"left-header\">\r\n                        <div class=\"left\">科室使用人数排行</div>\r\n                        <div class=\"right\">\r\n                            <el-select v-model=\"value2\" placeholder=\"请选择\" style=\"margin-right:22px;width:132px\" @change=\"getranking('')\">\r\n                                <el-option\r\n                                v-for=\"item in options2\"\r\n                                :key=\"item.value\"\r\n                                :label=\"item.label\"\r\n                                :value=\"item.value\"\r\n                                >\r\n                                </el-option>\r\n                            </el-select>\r\n                            <el-select v-model=\"value3\" placeholder=\"请选择\" style=\"margin-right:22px;width:132px\">\r\n                                <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item.value\"\r\n                                :label=\"item.label\"\r\n                                :value=\"item.value\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </div>\r\n                    </div>\r\n                    <el-table\r\n                    :data=\"tableData\"\r\n                    style=\"width: 70%;margin:auto\">\r\n                        <el-table-column\r\n                            prop=\"rank\"\r\n                            label=\"排名\"\r\n                            width=\"180\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                            prop=\"departmentName\"\r\n                            label=\"科室名称\"\r\n                            width=\"180\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                            prop=\"equipmentQuantity\"\r\n                            label=\"设备使用数量\">\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </div>\r\n                <div class=\"botton-right\">\r\n                    <div class=\"right-header\">\r\n                        <div class=\"left\">最近30天不同监测时长分布</div>\r\n                        <div class=\"right\">\r\n                            <el-select v-model=\"value4\" placeholder=\"请选择\" style=\"margin-right:22px;width:132px\" @change=\"monitoringTime\">\r\n                                <el-option\r\n                                v-for=\"item in options\"\r\n                                :key=\"item.value\"\r\n                                :label=\"item.label\"\r\n                                :value=\"item.value\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </div>\r\n                    </div>\r\n                     <div id=\"main2\" style=\"width:430px;height:390px;margin:auto\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapGetters} from 'vuex'\r\nimport Topbar from '../components/topbar'\r\nimport {getPaiHang,getShuLiang,getJianCe} from '@/api/statistics'\r\nexport default {\r\n    data(){\r\n        return {\r\n            time:[],\r\n            options: [{\r\n                value: 0,\r\n                label: '体温贴'\r\n                }, {\r\n                value:1,\r\n                label: '心电贴'\r\n                }, {\r\n                value: 2,\r\n                label: '血氧仪'\r\n                }, {\r\n                value:3,\r\n                label: '离床感应仪'\r\n                }\r\n            ],\r\n            options2: [{\r\n                value: 0,\r\n                label: '最近7天'\r\n                }, {\r\n                value:1,\r\n                label: '最近30天'\r\n                }\r\n            ],\r\n            value:0,\r\n            value2:0,\r\n            value3:0,\r\n            value4:0,\r\n            tableData: [],\r\n            maxValue:800,\r\n            intervalValue:50\r\n        }\r\n    },\r\n    components:{\r\n       Topbar\r\n    },\r\n    computed:{\r\n       ...mapGetters(\"login\",[\"useDepartId\",\"role\"])//获取departid和role\r\n    },\r\n    methods:{\r\n         drawChart(drawData) {\r\n            // 基于准备好的dom，初始化echarts实例\r\n            let myChart = this.$echarts.init(document.getElementById(\"main1\"));\r\n            // 指定图表的配置项和数据\r\n            let option = {\r\n                    grid: {\r\n                    left: '3%',\r\n                    right: '4%',\r\n                    bottom: '3%',\r\n                    containLabel: true\r\n                },\r\n                xAxis: {\r\n                    type: 'category',\r\n                    boundaryGap: false,\r\n                    splitLine:{show:false},\r\n                },\r\n                yAxis: {\r\n                    min: 0,\r\n                    max: this.maxValue,\r\n                    interval:this.intervalValue,\r\n                    type: 'value',\r\n                    axisLine: {onZero: false}\r\n                },\r\n                series: [\r\n                    {\r\n                        type: 'line',\r\n                        smooth: true,\r\n                        lineStyle: {\r\n                            width: 3,\r\n                            shadowColor: '#00AFF0',\r\n                            color:\"#00AFF0\",\r\n                            shadowBlur: 10,\r\n                            shadowOffsetY: 10\r\n                        },\r\n                        itemStyle: {\r\n                            borderColor: '#00AFF0',\r\n                            color: '#00AFF0'\r\n                        },\r\n                        data:drawData\r\n                    }\r\n                ]\r\n            };\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n         },\r\n          drawChart2(drawData2) {\r\n            // 基于准备好的dom，初始化echarts实例\r\n            let myChart = this.$echarts.init(document.getElementById(\"main2\"));\r\n            // 指定图表的配置项和数据\r\n            let option = {\r\n                   grid: {\r\n                        left: '3%',\r\n                        right: '4%',\r\n                        bottom: '3%',\r\n                        containLabel: true\r\n                    },\r\n                    xAxis: {\r\n                        min:0,\r\n                        max:100,\r\n                        type: 'value'\r\n                    },\r\n                    yAxis: {\r\n                        type: 'category',\r\n                        data: ['>25天','20-25天','15-20天','10-15天','5-10天','2-5天','0-2天']\r\n                    },\r\n                    series: [{\r\n                        type: 'bar',\r\n\r\n                        label: {\r\n                            normal: {\r\n                                show: true,\r\n                                position: 'right'\r\n                            }\r\n                        },\r\n                        barWidth: 15,   //柱状宽度\r\n                        itemStyle: {\r\n                            normal: {\r\n                                // 随机显示\r\n                                //color:function(d){return \"#\"+Math.floor(Math.random()*(256*256*256-1)).toString(16);}\r\n                                // 定制显示（按顺序）\r\n                                color: function(params) {\r\n                                    var colorList = ['#FFCB3D','#B5EE80','#FFBCB2','#B2E2FF','#B2C0FF', '#C6B2FF','#FFF584'];\r\n                                    return colorList[params.dataIndex]\r\n                                }\r\n                            }\r\n                        },\r\n                        data:drawData2\r\n                    }]\r\n            };\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n         },\r\n        timetrans(date){//时间戳转字符串\r\n            var Y = date.getFullYear() + '-';\r\n            var M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-';\r\n            var D = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\r\n            return Y+M+D;\r\n        },\r\n        Inquire(data){//获取设备使用数量\r\n            var start = \"\"\r\n            var end = \"\"\r\n            if(data){\r\n                start =data[0]\r\n                end = data[1]\r\n            }else{\r\n                start = this.timetrans(new Date(this.time[0]))\r\n                end = this.timetrans(new Date(this.time[1]))\r\n            }\r\n            getShuLiang({\r\n                departmentId:this.useDepartId,\r\n                start,\r\n                end,\r\n                type:this.value\r\n            }).then((res)=>{\r\n                console.log(res)\r\n                if(res.success){\r\n                  this.drawChart(res.data);\r\n                }else{\r\n                  this.drawChart();\r\n                }\r\n            })\r\n        },\r\n        getranking(){//科室使用人数排行\r\n            var start = \"\"\r\n            if(this.value3==0){\r\n               start = this.timetrans(new Date(new Date().getTime() - (1000 * 60 * 60 * 24 * 7)))\r\n            }else{\r\n                start = this.timetrans(new Date(new Date().getTime() - (1000 * 60 * 60 * 24 * 30)))\r\n            }\r\n            getPaiHang({\r\n                start,\r\n                end:this.timetrans(new Date()),\r\n                type:this.value2,\r\n            }).then((res)=>{\r\n                console.log(res)\r\n                if(res.success){\r\n                  this.tableData = res.data\r\n                }else{\r\n                  this.tableData = \"\"\r\n                }\r\n            })\r\n        },\r\n        monitoringTime(){//监测时长分布\r\n           getJianCe({\r\n               departmentId:this.useDepartId,\r\n               type:this.value4\r\n           }).then((res)=>{\r\n               console.log(res)\r\n               if(res.success){\r\n                    var arr = []\r\n                    res.data.forEach((item) => {\r\n                        arr.push(item[1])\r\n                    });\r\n                    this.drawChart2(arr)\r\n                    console.log(arr)\r\n                }else{\r\n                  this.drawChart2()\r\n                }\r\n           })\r\n        }\r\n    },\r\n    mounted(){\r\n        console.log(this.role)\r\n        if(this.role == 2){\r\n            this.maxValue = 60;\r\n            this.intervalValue = 10;\r\n        }\r\n        this.time=[this.timetrans(new Date(new Date().getTime() - (1000 * 60 * 60 * 24 * 7))),this.timetrans(new Date())]\r\n        this.Inquire(this.time)\r\n        this.getranking()\r\n        this.monitoringTime()\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n  .tongji{\r\n      width: 100%;\r\n      background-size:cover;\r\n  }\r\n  .tongji-main{\r\n      width: 80%;\r\n      margin: 110px auto;\r\n      position: relative;\r\n      .top{\r\n          height: 570px;\r\n          background: #ffffff;\r\n          overflow:auto\r\n      }\r\n      .top-header{\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-left: 32px;\r\n          padding-top: 16px;\r\n          .left{\r\n            width:132px;\r\n            height:54px;\r\n            font-size:22px;\r\n            font-family:PingFangSC-Medium,PingFang SC;\r\n            font-weight:500;\r\n            color:rgba(70,74,83,1);\r\n            line-height:54px;\r\n          }\r\n          .right{\r\n             display: flex;\r\n             justify-content: space-between;\r\n             align-items: center;\r\n             margin-right: 120px;\r\n          }\r\n         .title{\r\n                width:90px;\r\n                height:25px;\r\n                font-size:18px;\r\n                font-weight:500;\r\n                color:rgba(0,0,0,1);\r\n          }\r\n          .buttun{\r\n                width:109px;\r\n                height:35px;\r\n                background:rgba(24,144,255,1);\r\n                border-radius:2px;\r\n                text-align: center;\r\n                line-height: 35px;\r\n                font-size:14px;\r\n                font-weight:400;\r\n                color:rgba(255,255,255,1);\r\n                cursor: pointer;\r\n          }\r\n      }\r\n      .botton{\r\n          height: 480px;\r\n          margin-top: 22px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          .left-header{\r\n              display: flex;\r\n              justify-content: space-between;\r\n              margin-left: 48px;\r\n              margin-top: 10px;\r\n              .left{\r\n                    height:54px;\r\n                    font-size:22px;\r\n                    font-weight:500;\r\n                    color:rgba(70,74,83,1);\r\n                    line-height:54px;\r\n              }\r\n              .right{\r\n                  display: flex;\r\n                  align-items: center;\r\n                  margin-right: 30px;\r\n              }\r\n          }\r\n          .botton-left{\r\n              width: 49%;\r\n              background: #ffffff;\r\n              overflow:auto;\r\n          }\r\n          .botton-right{\r\n              width: 49%;\r\n              background: #ffffff;\r\n          }\r\n          .right-header{\r\n              display: flex;\r\n              justify-content: space-between;\r\n              margin-left: 48px;\r\n              margin-top: 10px;\r\n              .left{\r\n                    height:54px;\r\n                    font-size:22px;\r\n                    font-weight:500;\r\n                    color:rgba(70,74,83,1);\r\n                    line-height:54px;\r\n              }\r\n              .right{\r\n                  display: flex;\r\n                  align-items: center;\r\n                  margin-right: 30px;\r\n              }\r\n          }\r\n      }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/statistics.vue","import service from '../utils/http'\r\n/*科室使用人数排行*/\r\nexport function getPaiHang(data){\r\n  return service({\r\n    url: '/statics/department',\r\n    method: 'get',\r\n    params:data\r\n  })\r\n}\r\n/*使用设备数量*/\r\nexport function getShuLiang(data){\r\n    return service({\r\n      url: '/statics/machine',\r\n      method: 'get',\r\n      params:data\r\n    })\r\n}\r\n/*最近30天不同监测时长分布*/\r\nexport function getJianCe(data){\r\n    return service({\r\n      url: '/statics/monitor',\r\n      method: 'get',\r\n      params:data\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/statistics.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tongji\"},[_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"../assets/img/bg.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('Topbar',[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(\"统计管理\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tongji-main\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top-header\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"使用设备数量\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"检索时间：\")]),_vm._v(\" \"),_c('el-date-picker',{staticStyle:{\"margin-right\":\"12px\"},attrs:{\"type\":\"daterange\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"unlink-panels\":\"\"},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"width\":\"132px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"buttun\",on:{\"click\":function($event){return _vm.Inquire('')}}},[_vm._v(\"检索\")])],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"1330px\",\"height\":\"490px\",\"margin\":\"auto\"},attrs:{\"id\":\"main1\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"botton\"},[_c('div',{staticClass:\"botton-left\"},[_c('div',{staticClass:\"left-header\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"科室使用人数排行\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"width\":\"132px\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){return _vm.getranking('')}},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}},_vm._l((_vm.options2),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"width\":\"132px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.value3),callback:function ($$v) {_vm.value3=$$v},expression:\"value3\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"70%\",\"margin\":\"auto\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"rank\",\"label\":\"排名\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"departmentName\",\"label\":\"科室名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"equipmentQuantity\",\"label\":\"设备使用数量\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"botton-right\"},[_c('div',{staticClass:\"right-header\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"最近30天不同监测时长分布\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('el-select',{staticStyle:{\"margin-right\":\"22px\",\"width\":\"132px\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.monitoringTime},model:{value:(_vm.value4),callback:function ($$v) {_vm.value4=$$v},expression:\"value4\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"430px\",\"height\":\"390px\",\"margin\":\"auto\"},attrs:{\"id\":\"main2\"}})])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f7d5184\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/statistics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8f7d5184\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./statistics.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./statistics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./statistics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f7d5184\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./statistics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8f7d5184\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/statistics.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}