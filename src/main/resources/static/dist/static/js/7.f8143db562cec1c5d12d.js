webpackJsonp([7],{"3ZNr":function(t,e){},l6ug:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),l=a("NYxO"),n=a("looZ"),r=a("3pLw");var o={data:function(){return{time:[],choosePlaceholder:{choose:"请选择",startTime:"开始日期",endTime:"结束日期"},tableName:{rank:"排名",departmentName:"科室名称",equipmentQuantity:"设备使用数量"},options:[{value:0,label:"体温贴"},{value:1,label:"心电贴"},{value:2,label:"血氧仪"},{value:3,label:"离床感应仪"}],options2:[{value:0,label:"最近7天"},{value:1,label:"最近30天"}],value:0,value2:0,value3:0,value4:0,tableData:[],dataQu:[">25天","20-25天","15-20天","10-15天","5-10天","2-5天","0-2天"]}},components:{Topbar:n.a},computed:s()({},Object(l.c)("login",["useDepartId","role"]),Object(l.e)("login",["language"])),methods:{drawChart:function(t){var e={grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!1}},yAxis:{minInterval:1,type:"value",axisLine:{onZero:!1}},series:[{type:"line",smooth:!0,lineStyle:{width:3,shadowColor:"#00AFF0",color:"#00AFF0",shadowBlur:10,shadowOffsetY:10},itemStyle:{borderColor:"#00AFF0",color:"#00AFF0"},data:t}]};this.$echarts.init(document.getElementById("main1")).setOption(e)},drawChart2:function(t){var e=this.$echarts.init(document.getElementById("main2")),a={grid:{left:"3%",right:"9%",bottom:"3%",containLabel:!0},xAxis:{min:0,max:100,type:"value",axisLabel:{formatter:"{value}%"}},yAxis:{type:"category",data:this.dataQu},series:[{type:"bar",label:{normal:{show:!0,position:"right",formatter:"{c}%"}},barWidth:15,itemStyle:{normal:{color:function(t){return["#F08A5D","#6DD400","#CD5677","#0092CA","#6A2C70","#0F3057","#FFCB3D"][t.dataIndex]}}},data:t}]};e.setOption(a)},timetrans:function(t){return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()<10?"0"+t.getDate():t.getDate())},Inquire:function(t){var e=this,a="",i="";t?(a=t[0],i=t[1]):(a=this.timetrans(new Date(this.time[0])),i=this.timetrans(new Date(this.time[1]))),function(t){return Object(r.a)({url:"/statics/machine",method:"get",params:t})}({departmentId:this.useDepartId,start:a,end:i,type:this.value}).then(function(t){t.success?e.drawChart(t.data):e.drawChart()})},getranking:function(){var t,e=this,a="";a=0==this.value2?this.timetrans(new Date((new Date).getTime()-6048e5)):this.timetrans(new Date((new Date).getTime()-2592e6)),(t={start:a,end:this.timetrans(new Date),type:this.value3},Object(r.a)({url:"/statics/department",method:"get",params:t})).then(function(t){t.success?e.tableData=t.data:e.tableData=""})},monitoringTime:function(){var t,e=this;(t={departmentId:this.useDepartId,type:this.value4},Object(r.a)({url:"/statics/monitor",method:"get",params:t})).then(function(t){if(t.success){var a=[];t.data.forEach(function(t){a.push(t[1])}),e.drawChart2(a.reverse())}else e.drawChart2()})}},mounted:function(){"en"==this.language&&(this.dataQu=[">25days","20 to 25days","15 to 20days","10 to 15days","5 to 10days","2 to 5days","0 to 2days"],this.tableName={rank:"Ranking",departmentName:"Department Name",equipmentQuantity:"Number Of Device Used"},this.choosePlaceholder={choose:"请选择",startTime:"开始日期",endTime:"结束日期"},this.options=[{value:0,label:"Temperature patch"},{value:1,label:"ECG patch"},{value:2,label:"Oximeter"},{value:3,label:"Off-bed inductor"}],this.options2=[{value:0,label:"Last 7 days"},{value:1,label:"Last 30 days"}]),this.time=[this.timetrans(new Date((new Date).getTime()-6048e5)),this.timetrans(new Date)],this.Inquire(this.time),this.getranking(),this.monitoringTime()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tongji"},[i("img",{staticClass:"bg",attrs:{src:a("yEeP"),alt:""}}),t._v(" "),i("Topbar",[i("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),i("span",[t._v(t._s(t.$t("statistics.title")))])]),t._v(" "),i("div",{staticClass:"tongji-main"},[i("div",{staticClass:"top"},[i("div",{staticClass:"top-header"},[i("div",{staticClass:"left"},[t._v(t._s(t.$t("statistics.deviceNum")))]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("statistics.sreachTime"))+":")]),t._v(" "),i("el-date-picker",{staticStyle:{"margin-right":"12px"},attrs:{type:"daterange","start-placeholder":t.choosePlaceholder.startTime,"end-placeholder":t.choosePlaceholder.endTime,"unlink-panels":""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),i("el-select",{staticStyle:{"margin-right":"22px",minwidth:"132px"},attrs:{placeholder:t.choosePlaceholder.choose},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("div",{staticClass:"buttun",on:{click:function(e){return t.Inquire("")}}},[t._v("\n            "+t._s(t.$t("statistics.sreach"))+"\n          ")])],1)]),t._v(" "),i("div",{staticStyle:{width:"1330px",height:"490px",margin:"auto"},attrs:{id:"main1"}})]),t._v(" "),i("div",{staticClass:"botton"},[i("div",{staticClass:"botton-left"},[i("div",{staticClass:"left-header"},[i("div",{staticClass:"left"},[t._v(t._s(t.$t("statistics.userDepart")))]),t._v(" "),i("div",{staticClass:"right"},[i("el-select",{staticStyle:{"margin-right":"22px",minwidth:"132px"},attrs:{placeholder:t.choosePlaceholder.choose},on:{change:function(e){return t.getranking("")}},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options2,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("el-select",{staticStyle:{"margin-right":"22px",minwidth:"132px"},attrs:{placeholder:t.choosePlaceholder.choose},on:{change:function(e){return t.getranking("")}},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),i("el-table",{staticStyle:{width:"70%",margin:"auto"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{prop:"rank",label:t.tableName.rank,width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"departmentName",label:t.tableName.departmentName,width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"equipmentQuantity",label:t.tableName.equipmentQuantity}})],1)],1),t._v(" "),i("div",{staticClass:"botton-right"},[i("div",{staticClass:"right-header"},[i("div",{staticClass:"left"},[t._v(t._s(t.$t("statistics.nearTime")))]),t._v(" "),i("div",{staticClass:"right"},[i("el-select",{staticStyle:{"margin-right":"22px",minwidth:"132px"},attrs:{placeholder:t.choosePlaceholder.choose},on:{change:t.monitoringTime},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),i("div",{staticStyle:{width:"420px",height:"390px",margin:"auto"},attrs:{id:"main2"}})])])])],1)},staticRenderFns:[]};var u=a("VU/8")(o,c,!1,function(t){a("3ZNr")},"data-v-20afbc72",null);e.default=u.exports}});
//# sourceMappingURL=7.f8143db562cec1c5d12d.js.map