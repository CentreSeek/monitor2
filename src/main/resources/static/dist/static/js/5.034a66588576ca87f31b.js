webpackJsonp([5],{ANBw:function(t,e){},ENeQ:function(t,e){},QLfc:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("NYxO");var n=s("LSqF"),a=s("3pLw");var c={},o={name:"ghsb",data:function(){return{userInfo:this.$store.state.login.userInfo,newUserInfo:{account:"",password:"",confirm:"",name:"",phone:"",post:"",sex:1,departmentId:""},accountList:[]}},props:{departmentList:{type:Array,default:function(){return[]}},xzzhStatus:{type:Boolean},getAccountListFn:{type:Function,default:null}},beforeCreate:function(){c=this},mounted:function(){},watch:{departmentList:function(){}},methods:{addZh:function(){if(""==c.newUserInfo.account)c.error(c.$t("account.tips.srzh"));else if(c.newUserInfo.account.length>18)c.error(c.$t("account.tips.zhgs"));else if(""==c.newUserInfo.password)c.error(c.$t("account.tips.srmm"));else if(c.newUserInfo.password.length>12||c.newUserInfo.password.length<6)c.error(c.$t("account.tips.mmgs"));else if(""==c.newUserInfo.confirm)c.error(c.$t("account.tips.qrmm"));else if(c.newUserInfo.confirm!=c.newUserInfo.password)c.error(c.$t("account.tips.mmbf"));else if(""==c.newUserInfo.name)c.error(c.$t("account.tips.srxm"));else if(""==c.newUserInfo.phone)c.error(c.$t("account.tips.srsj"));else if(/^1\d{10}$/.test(c.newUserInfo.phone))if(""==c.newUserInfo.departmentId)c.error(c.$t("account.tips.xzks"));else{(function(t){return Object(a.a)({url:"/manage/manager",method:"post",data:t})})({account:c.newUserInfo.account,password:c.newUserInfo.password,name:c.newUserInfo.name,phone:c.newUserInfo.phone,post:c.newUserInfo.post,sex:c.newUserInfo.sex,departmentId:c.newUserInfo.departmentId}).then(function(t){200==t.code&&t.success&&(c.newUserInfo={account:"",password:"",confirm:"",name:"",phone:"",post:"",sex:"",departmentId:""},c.$emit("getxzzhStatus",!c.xzzhStatus),c.success(c.$t("message.OperSuccess")),c.getAccountListFn())})}else c.error(c.$t("account.tips.sjgs"))},closeXzzh:function(){c.$emit("getxzzhStatus",!c.xzzhStatus)}},components:{PopUp:n.a}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("PopUp",{attrs:{flow:t.xzzhStatus}},[s("div",{staticClass:"box"},[s("div",{staticClass:"container"},[s("i",{staticClass:"iconfont close",on:{click:t.closeXzzh}},[t._v("")]),t._v(" "),s("div",{staticClass:"title clearfix"},[s("i",{staticClass:"iconfont title-img"},[t._v("")]),t._v(" "),s("span",{staticClass:"title-span"},[t._v(t._s(t.$t("account.xzry")))])]),t._v(" "),s("div",{staticClass:"xz-content"},[s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.zh"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-input",{staticClass:"select",attrs:{placeholder:t.$t("account.tips.srzh")},model:{value:t.newUserInfo.account,callback:function(e){t.$set(t.newUserInfo,"account",e)},expression:"newUserInfo.account"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.password"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-input",{staticClass:"select",attrs:{type:"password",placeholder:t.$t("account.tips.srmm")},model:{value:t.newUserInfo.password,callback:function(e){t.$set(t.newUserInfo,"password",e)},expression:"newUserInfo.password"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.confirm"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-input",{staticClass:"select",attrs:{type:"password",placeholder:t.$t("account.tips.qrmm")},model:{value:t.newUserInfo.confirm,callback:function(e){t.$set(t.newUserInfo,"confirm",e)},expression:"newUserInfo.confirm"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.name"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-input",{staticClass:"select",attrs:{placeholder:t.$t("account.tips.srxm")},model:{value:t.newUserInfo.name,callback:function(e){t.$set(t.newUserInfo,"name",e)},expression:"newUserInfo.name"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.phone"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-input",{staticClass:"select",attrs:{placeholder:t.$t("account.tips.srsj")},model:{value:t.newUserInfo.phone,callback:function(e){t.$set(t.newUserInfo,"phone",e)},expression:"newUserInfo.phone"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("span",[t._v(t._s(t.$t("account.gw"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-input",{staticClass:"select",attrs:{placeholder:t.$t("account.tips.srgw")},model:{value:t.newUserInfo.post,callback:function(e){t.$set(t.newUserInfo,"post",e)},expression:"newUserInfo.post"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.sex"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-radio-group",{model:{value:t.newUserInfo.sex,callback:function(e){t.$set(t.newUserInfo,"sex",e)},expression:"newUserInfo.sex"}},[s("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("account.male")))]),t._v(" "),s("el-radio",{attrs:{label:0}},[t._v(t._s(t.$t("account.female")))])],1)],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.ks"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("el-select",{staticClass:"select",staticStyle:{width:"133px"},attrs:{filterable:"",placeholder:t.$t("message.select")},model:{value:t.newUserInfo.departmentId,callback:function(e){t.$set(t.newUserInfo,"departmentId",e)},expression:"newUserInfo.departmentId"}},t._l(t.departmentList,function(t){return s("el-option",{key:t.departmentId,attrs:{label:t.name,value:t.departmentId}})}),1)],1)])])]),t._v(" "),s("div",{staticClass:"ipt-group clearfix"},[s("a",{staticClass:"on",attrs:{href:"javascript:void(0)"},on:{click:t.addZh}},[t._v(t._s(t.$t("button.confirm")))]),t._v(" "),s("a",{staticClass:"off",attrs:{href:"javascript:void(0)"},on:{click:t.closeXzzh}},[t._v(t._s(t.$t("button.close")))])])])])])},staticRenderFns:[]};var i=s("VU/8")(o,r,!1,function(t){s("ENeQ")},"data-v-61074239",null).exports,l={},u={name:"xgzh",data:function(){return{putUserInfo:{post:"",departmentId:"",id:""}}},props:{departmentList:{type:Array,default:function(){return[]}},xgzhStatus:{type:Boolean},getAccountListFn:{type:Function,default:null},currentAccount:{type:Object}},watch:{},beforeCreate:function(){l=this},mounted:function(){l.putUserInfo.departmentId=l.currentAccount.departmentId,l.putUserInfo.post=l.currentAccount.post},methods:{putZh:function(){""==l.putUserInfo.departmentId?l.error(l.$t("tips.xzks")):function(t){return Object(a.a)({url:"/manage/manager",method:"put",data:t})}({id:l.currentAccount.id,post:l.putUserInfo.post,departmentId:l.putUserInfo.departmentId}).then(function(t){200==t.code&&t.success&&(l.success(l.$t("message.OperSuccess")),l.$emit("getxgzhStatus",!l.xgzhStatus),l.getAccountListFn(),l.putUserInfo={post:"",departmentId:"",id:""})})},closeXgzh:function(){l.$emit("getxgzhStatus",!l.xgzhStatus)}},components:{PopUp:n.a}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("PopUp",{attrs:{flow:t.xgzhStatus}},[s("div",{staticClass:"box"},[s("div",{staticClass:"container"},[s("i",{staticClass:"iconfont close",on:{click:t.closeXgzh}},[t._v("")]),t._v(" "),s("div",{staticClass:"title clearfix"},[s("i",{staticClass:"iconfont title-img"},[t._v("")]),t._v(" "),s("span",{staticClass:"title-span"},[t._v(t._s(t.$t("account.zgxx")))])]),t._v(" "),s("div",{staticClass:"xz-content"},[s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("span",[t._v(t._s(t.$t("account.zh"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right form-item-right1"},[s("span",[t._v(t._s(t.currentAccount.account))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("span",[t._v(t._s(t.$t("account.name"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right"},[s("span",[t._v(t._s(t.currentAccount.name))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("span",[t._v(t._s(t.$t("account.phone"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right"},[s("span",[t._v(t._s(t.currentAccount.phone))])])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("span",[t._v(t._s(t.$t("account.sex"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right"},[1==t.currentAccount.sex?s("span",[t._v(t._s(t.$t("account.male")))]):t._e(),t._v(" "),0==t.currentAccount.sex?s("span",[t._v(t._s(t.$t("account.female")))]):t._e()])]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("span",[t._v(t._s(t.$t("account.gw"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right"},[s("el-input",{staticClass:"select",attrs:{placeholder:t.$t("account.tips.srgw")},model:{value:t.putUserInfo.post,callback:function(e){t.$set(t.putUserInfo,"post",e)},expression:"putUserInfo.post"}})],1)]),t._v(" "),s("div",{staticClass:"form-item"},[s("div",{staticClass:"form-item-left"},[s("em",[t._v("*")]),t._v(" "),s("span",[t._v(t._s(t.$t("account.ks"))+"：")])]),t._v(" "),s("div",{staticClass:"form-item-right"},[s("el-select",{staticClass:"select",staticStyle:{width:"133px"},attrs:{filterable:"",placeholder:t.$t("message.select")},model:{value:t.putUserInfo.departmentId,callback:function(e){t.$set(t.putUserInfo,"departmentId",e)},expression:"putUserInfo.departmentId"}},t._l(t.departmentList,function(t){return s("el-option",{key:t.departmentId,attrs:{label:t.name,value:t.departmentId}})}),1)],1)])])]),t._v(" "),s("div",{staticClass:"ipt-group clearfix"},[s("a",{staticClass:"on",attrs:{href:"javascript:void(0)"},on:{click:t.putZh}},[t._v(t._s(t.$t("button.confirm")))]),t._v(" "),s("a",{staticClass:"off",attrs:{href:"javascript:void(0)"},on:{click:t.closeXgzh}},[t._v(t._s(t.$t("button.close")))])])])])])},staticRenderFns:[]};var p={},f={name:"account",data:function(){return{xzzhStatus:!1,xgzhStatus:!1,userInfo:{},accountList:[],departmentList:p.$store.state.monitor.departmentList,currentDepartmentId:null,currentAccount:{},pageSize:p.global.pageSize,currentPage:p.global.currentPage,accountData:[]}},beforeCreate:function(){p=this},mounted:function(){p.userInfo=this.$store.state.login.userInfo,p.getDepartmentListFn()},methods:{handleCurrentChange:function(t){p.currentPage=t,p.getAccountListFn()},putZhFn:function(t){p.currentAccount=t,p.xgzhStatus=!p.xgzhStatus},getxzzhStatus:function(t){p.xzzhStatus=t},getxgzhStatus:function(t){p.xgzhStatus=t},getAccountListFn:function(){(function(t){return Object(a.a)({url:"/manage/manager",method:"get",params:t})})({role:p.userInfo.role,departmentId:p.currentDepartmentId,page:p.currentPage,pageSize:p.global.pageSize}).then(function(t){200==t.code&&t.success&&(p.accountData=t.data,p.accountList=t.data.list)})},getDepartmentListFn:function(){var t;Object(a.a)({url:"/hospital/departments",method:"get",params:t}).then(function(t){200==t.code&&t.success&&(p.departmentList=t.data,p.currentDepartmentId=p.departmentList[0].departmentId,p.getAccountListFn())})},selectDepart:function(t){p.currentDepartmentId=t,p.currentPage=p.global.currentPage,p.getAccountListFn()},deleteZh:function(t){this.$confirm(p.$t("account.err.qrsc")+"?",p.$t("account.err.czts")+"：",{confirmButtonText:p.$t("button.confirm"),cancelButtonText:p.$t("button.close"),type:"warning",center:!0}).then(function(){(function(t){return Object(a.a)({url:"/manage/manager",method:"delete",data:t})})({Id:t.id}).then(function(t){200==t.code&&t.success&&(p.success(p.$t("message.OperSuccess")),p.getAccountListFn())})}).catch(function(){})}},components:{xzzh:i,xgzh:s("VU/8")(u,m,!1,function(t){s("ANBw")},"data-v-6ccfb866",null).exports,Topbar:s("looZ").a}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"account-all"},[n("img",{staticClass:"bg",attrs:{src:s("yEeP"),alt:""}}),t._v(" "),n("Topbar",[n("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),n("span",[t._v(t._s(t.$t("account.title")))])]),t._v(" "),n("div",{staticClass:"account-main"},[n("div",{staticClass:"account-choose"},[n("div",{staticClass:"account-row"},[n("div",{staticClass:"row-left"},[n("span",{staticClass:"choose-title"},[t._v(t._s(t.$t("account.ksxz"))+":")]),t._v(" "),n("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:t.$t("message.select")},on:{change:t.selectDepart},model:{value:t.currentDepartmentId,callback:function(e){t.currentDepartmentId=e},expression:"currentDepartmentId"}},t._l(t.departmentList,function(t){return n("el-option",{key:t.departmentId,attrs:{label:t.name,value:t.departmentId}})}),1)],1),t._v(" "),n("div",{staticClass:"row-right"},[n("div",{staticClass:"buttons"},[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.xzzhStatus=!t.xzzhStatus}}},[t._v(t._s(t.$t("account.xzry")))])])])])]),t._v(" "),n("div",{staticClass:"main"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.accountList,"empty-text":t.$t("message.noData")}},[n("el-table-column",{attrs:{prop:"name",label:t.$t("account.name"),width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"departmentName",label:t.$t("account.szks")}}),t._v(" "),n("el-table-column",{attrs:{prop:"post",label:t.$t("account.gw")}}),t._v(" "),n("el-table-column",{attrs:{prop:"sex",label:t.$t("account.sex")},scopedSlots:t._u([{key:"default",fn:function(e){return[0==t.accountList[e.$index].sex?n("span",[t._v(t._s(t.$t("account.female")))]):t._e(),t._v(" "),1==t.accountList[e.$index].sex?n("span",[t._v(t._s(t.$t("account.male")))]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"phone",label:t.$t("account.phone")}}),t._v(" "),n("el-table-column",{attrs:{prop:"account",label:t.$t("account.dlzh")}}),t._v(" "),n("el-table-column",{attrs:{prop:"loginTime",label:t.$t("account.last")}}),t._v(" "),n("el-table-column",{attrs:{prop:"operation",label:t.$t("account.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-right":"32px",cursor:"pointer",color:"rgb(0, 145, 255)"},on:{click:function(s){return t.putZhFn(e.row)}}},[t._v(t._s(t.$t("account.edit")))]),t._v(" "),n("span",{staticStyle:{cursor:"pointer",color:"rgb(234, 72, 73)"},on:{click:function(s){return t.deleteZh(e.row)}}},[t._v(t._s(t.$t("account.delete")))])]}}])})],1)],1),t._v(" "),n("el-pagination",{attrs:{background:"","page-size":t.pageSize,"current-page":t.currentPage,layout:"prev, pager, next",total:t.accountData.records},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),t.xzzhStatus?n("xzzh",{attrs:{xzzhStatus:t.xzzhStatus,departmentList:t.departmentList,getAccountListFn:t.getAccountListFn},on:{getxzzhStatus:t.getxzzhStatus}}):t._e(),t._v(" "),t.xgzhStatus?n("xgzh",{attrs:{xgzhStatus:t.xgzhStatus,currentAccount:t.currentAccount,departmentList:t.departmentList,getAccountListFn:t.getAccountListFn},on:{getxgzhStatus:t.getxgzhStatus}}):t._e()],1)},staticRenderFns:[]};var v=s("VU/8")(f,d,!1,function(t){s("mYQz")},null,null);e.default=v.exports},mYQz:function(t,e){}});
//# sourceMappingURL=5.034a66588576ca87f31b.js.map